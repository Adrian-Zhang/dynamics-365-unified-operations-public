---
title: Create a Cloud Scale Unit extension package
description: This topic describes how to create an extension package for Microsoft Dynamics 365 Commerce Cloud Scale Unit.
author: mugunthanm
ms.date: 04/12/2022
ms.topic: article
audience: Developer
ms.reviewer: v-chgriffin
ms.search.region: Global
ms.author: mumani
ms.search.validFrom: 03-30-2022
ms.dyn365.ops.version: AX 10.0.25
---

# Create a Cloud Scale Unit extension package

[!include [banner](../includes/banner.md)]

This topic describes how to create an extension package for Microsoft Dynamics 365 Commerce Cloud Scale Unit (CSU). 

A CSU extension package contains the extension code for the following components:

- Commerce runtime (CRT) and Headless Commerce APIs
- Channel database extension scripts
- Payment connector
- Cloud POS (CPOS)

### Steps to create a CSU package

To create a CSU package, choose one of the following options and follow the steps.

### Option 1

1. Clone or download the scale unit packaging project from [Dynamics365 Commerce ScaleUnit Samples](https://github.com/microsoft/Dynamics365Commerce.ScaleUnit). Select the correct release branch version according to your SDK/application release. For detailed steps on cloning, see [Download Retail SDK samples and reference packages from GitHub and NuGet](retail-sdk/sdk-github.md).
1. Add the extension Commerce runtime (CRT), Retail Server, channel database, and Cloud POS (CPOS) extension project as a project reference to the scale unit packaging project.
1. If the CRT or Retail Server extension depends on any assemblies to execute, include those assemblies as a project reference in the extension project. The packaging will include these assemblies in the **ext** folder. Do not add the dependent assemblies to the **CommerceRuntime.Ext.config** file since that may cause runtime errors.
1. Build the scale unit project. This project will generate the **CloudScaleUnitExtensionPackage.zip** output package in the project bin output folder. The **CloudScaleUnitExtensionPackage.zip** package can then be uploaded to Microsoft Lifecycle Services (LCS) and deployed to Cloud Scale Unit. Select the correct version of the **Microsoft.Dynamics.Commerce.Sdk.ScaleUnit** NuGet version in the Visual Studio NuGet package manager according to your SDK/application version.

### Option 2

1. Create a new C# class library project with target framework .NET Standard 2.0.
1. Add the **Microsoft.Dynamics.Commerce.Sdk.ScaleUnit** NuGet package as a dependency to the project. Select the correct version of the **Microsoft.Dynamics.Commerce.Sdk.ScaleUnit** NuGet version according to your SDK/application version.
1. Consume the **Microsoft.Dynamics.Commerce.Sdk.ScaleUnit** package from [https://pkgs.dev.azure.com/commerce-partner/Registry/\_packaging/dynamics365-commerce/nuget/v3/index.json](https://pkgs.dev.azure.com/commerce-partner/Registry/\_packaging/dynamics365-commerce/nuget/v3/index.json). You can add the package source location in the **nuget.config** file of your extension project file, as shown in the following example.

    ```xml
    <packageSources>
        <add key="dynamics365-commerce" value="https://pkgs.dev.azure.com/commerce-partner/Registry/_packaging/dynamics365-commerce/nuget/v3/index.json" />
        <add key="nuget.org" value="https://api.nuget.org/v3/index.json" />
        </packageSources>
    ```

1. Add the extension Commerce runtime, Retail Server, channel database, and CPOS extension projects as a project reference to the scale unit packaging project.
1. If the CRT or Retail Server extension depends on any assemblies to execute, include those assemblies as a project reference in the extension project. The packaging will include these assemblies in the **ext** folder. Do not add the dependent assemblies to the **CommerceRuntime.Ext.config** file since that may cause runtime errors.
1. Build the scale unit project. The project will generate the **CloudScaleUnitExtensionPackage.zip** output package in the project bin output folder. The **CloudScaleUnitExtensionPackage.zip** package can then be uploaded to LCS and deployed to Cloud Scale Unit.

The Commerce runtime extension config file **Web.Config** is generated by the scale unit packaging project. You do not have to create the extension config files manually.

### Deploy the package to CSU

To deploy the package to CSU, follow these steps.

1. Go to [LCS](https://lcs.dynamics.com/v2).
1. Sign in and open a project. Then, on the hamburger menu, select **Asset library**.
1. Select the Commerce **Cloud Scale Unit Extension** asset type, and then select the **+** (plus) button to upload the package. Provide a package name and description and then add the package file by selecting **Add file*.
1. After the upload is complete, select **Confirm** to complete the upload process.
1. The package will be validated by LCS in a few minutes. After validation is complete, mark the package as **Release candidate**.
1. After upload, the package needs to be deployed to the environment. For more information, follow the steps outlined in [Apply updates and extensions to Commerce Scale Unit (cloud)](../../fin-ops-core/dev-itpro/deployment/update-retail-channel.md).
